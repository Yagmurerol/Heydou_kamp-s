@model List<hey.dou.Models.AkademikTakvim>
@{
    ViewData["Title"] = "Akademik Takvim";
}

<body class="bg-background-light dark:bg-background-dark font-display text-[#111418] dark:text-white">
    <div class="relative flex h-auto min-h-screen w-full flex-col group/design-root overflow-x-hidden">
        <div class="layout-container flex h-full grow flex-col">

            <header class="flex items-center justify-between ... px-6 sm:px-10 lg:px-20 py-3">
            </header>

            <main class="flex-1 px-6 sm:px-10 lg:px-20 py-8">
                <div class="max-w-7xl mx-auto">
                    <div class="flex ... justify-between items-center ... mb-8">
                        <p class="text-4xl font-black ...">Akademik Takvim</p>
                        <button class="flex items-center gap-2 ...">
                            <span class="material-symbols-outlined">print</span>
                            <span>Yazdır</span>
                        </button>
                    </div>
                    <div class="flex flex-col lg:flex-row gap-8">
                        <div class="w-full lg:w-1/4 xl:w-1/5 space-y-6">
                            <div class="bg-white dark:bg-[#1a2835] p-4 rounded-lg shadow">...</div>
                            <div class="bg-white dark:bg-[#1a2835] p-4 rounded-lg shadow">...</div>
                        </div>

                        <div class="flex-1 bg-white dark:bg-[#1a2835] p-6 rounded-lg shadow">
                            <div class="flex items-center justify-between mb-6">...</div>
                            <div class="grid grid-cols-7 gap-1 text-center">...</div>

                            <div class="mt-8">
                                <details class="flex flex-col border-t ... py-2 group" open="">
                                    <summary class="flex ... justify-between gap-6 py-2">
                                        <p class="text-base font-medium">Yaklaşan Etkinlikler</p>
                                        <span class="material-symbols-outlined ...">expand_more</span>
                                    </summary>

                                    <div class="space-y-3 pt-2">

                                        @foreach (var takvim in Model)
                                        {
                                            // Kategoriye göre renk belirleme
                                            string renk = "bg-gray-400"; // Varsayılan renk (boşsa)

                                            // 'Kategori' alanının 'null' veya 'boş' OLMADIĞINI kontrol ediyoruz
                                            if (!string.IsNullOrEmpty(takvim.Kategori))
                                            {
                                                // Artık güvenle .Contains() kullanabiliriz
                                                if (takvim.Kategori.Contains("Sınav")) { renk = "bg-[#f59e0b]"; }
                                                else if (takvim.Kategori.Contains("Tatil")) { renk = "bg-[#10b981]"; }
                                                else if (takvim.Kategori.Contains("Kayıt")) { renk = "bg-[#ef4444]"; }
                                            }

                                            <div class="flex items-start gap-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/50">

                                                <div class="size-4 mt-1 rounded-full @renk"></div>

                                                <div>
                                                    <p class="font-semibold">@takvim.Kategori</p>

                                                    <p class="text-sm text-[#617589] dark:text-[#a6b3c1]">@takvim.Aciklama</p>
                                                </div>
                                            </div>
                                        }

                                        @if (!Model.Any())
                                        {
                                            <p class="text-sm ...">Gösterilecek yaklaşan etkinlik bulunmamaktadır.</p>
                                        }

                                    </div>
                                </details>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
</body>